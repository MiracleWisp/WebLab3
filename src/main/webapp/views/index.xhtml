<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
    <link rel="stylesheet" href='../resources/css/common.css'/>
    <link rel="stylesheet" href='../resources/css/index.css'/>
    <h:outputScript name="js/draw_point.js"/>
    <h:outputScript name="js/buttonSelection.js"/>
    <title>S&amp;U — Main</title>
</h:head>
<h:body>
    <div id="header">
        <div id="group">P3212</div>
        <div id="name">Serdyukov &amp; Uchvatov</div>
        <div id="variant">892312</div>
    </div>

    <!--по непонятным причинам form_wrap и results_wrap в браузере
    заворачиваются в content-wrap (это и нужно), но если поместить
    form_wrap и results_wrap в content_wrap здесь, они завернутся в
    plot_wrap-->
    <div id="content_wrap">
        <div id="plot_wrap" class="element">
            <svg id="svg_plot" xmlns="http://www.w3.org/2000/svg"
                 viewBox="0 0 300 300"><!--onclick="plotClicked(evt)"-->
                <defs>
                    <style>

                        .cls-2 {
                            fill: none;
                        }

                        .cls-2, .cls-3 {
                            stroke: #000;
                            stroke-miterlimit: 10;
                            stroke-width: 0.5px;
                        }

                        .cls-4 {
                            font-size: 12px;
                        }

                        .cls-4, .cls-5 {
                            font-family: MyriadPro-Regular, Myriad Pro, serif;
                        }

                        .cls-5 {
                            font-size: 14px;
                        }</style>
                </defs>
                <title>Plot</title>

                <rect class="cls-1" x="150" y="30" width="60" height="120"/>
                <path class="cls-1" d="M150,90v60H90A60,60,0,0,1,150,90Z"/>
                <polygon class="cls-1" points="30 150 150 150 150 270 30 150"/>

                <line class="cls-2" x1="150" y1="300" x2="150" y2="5.295"/>
                <polygon points="150 0 153.049 7.462 150 5.691 146.952 7.462 150 0"/>
                <line class="cls-2" y1="150.052" x2="294.705" y2="149.95"/>
                <polygon points="300 149.948 292.539 153 294.309 149.95 292.537 146.902 300 149.948"/>
                <path class="cls-3" d="M90.02,150l-.02.02V150Z" transform="translate(0 0)"/>
                <line class="cls-2" x1="210" y1="154" x2="210" y2="146"/>
                <line class="cls-2" x1="154" y1="210" x2="146" y2="210"/>
                <line class="cls-2" x1="154" y1="90" x2="146" y2="90"/>
                <line class="cls-2" x1="90" y1="154" x2="90" y2="146"/>
                <line class="cls-2" x1="154" y1="270" x2="146" y2="270"/>
                <line class="cls-2" x1="270" y1="154" x2="270" y2="146"/>
                <line class="cls-2" x1="154" y1="30" x2="146" y2="30"/>
                <line class="cls-2" x1="30" y1="154" x2="30" y2="146"/>
                <text class="cls-4" transform="translate(30 143)">-
                    <tspan>1</tspan>
                </text>
                <text class="cls-4" transform="translate(154 267)">-
                    <tspan>1</tspan>
                </text>
                <text class="cls-4" transform="translate(263 143)">
                    <tspan>1</tspan>
                </text>
                <text class="cls-4" transform="translate(138 25)">
                    <tspan>1</tspan>
                </text>
                <text class="cls-4 divis" transform="translate(154 207)">-
                    <tspan>0.5</tspan>
                </text>
                <text class="cls-4 divis" transform="translate(128 85)">
                    <tspan>0.5</tspan>
                </text>
                <text class="cls-4 divis" transform="translate(210 143)">
                    <tspan>0.5</tspan>
                </text>
                <text class="cls-4 divis" transform="translate(69 143)">-
                    <tspan>0.5</tspan>
                </text>
                <text class="cls-5" transform="translate(158 13)">Y</text>
                <text class="cls-5" transform="translate(289 143)">X</text>
            </svg>
        </div>
    </div>

    <div id="form_wrap" class="element">
        <h:form id="pointForm">
            <div>
                <h3>X: #{resultsView.x}</h3>
                <p:commandButton onclick="selectButtonX(this)" action="#{resultsView.setX(-2)}" value="-2" name="user_X"
                                 class="x_btn"/>
                <p:commandButton onclick="selectButtonX(this)" action="#{resultsView.setX(-1.5)}" value="-1.5"
                                 name="user_X" class="x_btn"/>
                <p:commandButton onclick="selectButtonX(this)" action="#{resultsView.setX(-1)}" value="-1" name="user_X"
                                 class="x_btn"/>
                <p:commandButton onclick="selectButtonX(this)" action="#{resultsView.setX(-0.5)}" value="-0.5"
                                 name="user_X" class="x_btn"/>
                <p:commandButton onclick="selectButtonX(this)" action="#{resultsView.setX(0)}" value="0" name="user_X"
                                 class="x_btn"/>
                <p:commandButton onclick="selectButtonX(this)" action="#{resultsView.setX(0.5)}" value="0.5"
                                 name="user_X" class="x_btn"/>
                <p:commandButton onclick="selectButtonX(this)" action="#{resultsView.setX(1)}" value="1" name="user_X"
                                 class="x_btn"/>
                <p:commandButton onclick="selectButtonX(this)" action="#{resultsView.setX(1.5)}" value="1.5"
                                 name="user_X" class="x_btn"/>
                <p:commandButton onclick="selectButtonX(this)" action="#{resultsView.setX(2)}" value="2" name="user_X"
                                 class="x_btn"/>
            </div>
            <div>
                <h3>Y: </h3>
                <p:inputText value="#{resultsView.y}"/>
                <p:inputText id="number" value="#{resultsView.y}" label="Number" validatorMessage="Значение от -3 до 5">
                    <f:validateDoubleRange minimum="-5" maximum="3"/>
                </p:inputText>
                <p:message for="number"/>
            </div>
            <div>
                <h3>R: </h3>
                <p:selectOneRadio value="#{resultsView.r}">
                    <f:selectItem itemValue="1" itemLabel="1"/>
                    <f:selectItem itemValue="2" itemLabel="2"/>
                    <f:selectItem itemValue="3" itemLabel="3"/>
                    <f:selectItem itemValue="4" itemLabel="4"/>
                    <f:selectItem itemValue="5" itemLabel="5"/>
                </p:selectOneRadio>

            </div>
            <p:commandButton id="add_btn" value="Add" styleClass="ui-priority-primary"
                             update="pointForm" validateClient="true">
                <f:ajax listener="#{resultsView.addPoint}" execute="pointForm" render="result_panel"/>
            </p:commandButton>
        </h:form>
    </div>
    <div id="results_wrap" class="element">
        <p:outputPanel id="result_panel">
            <p:dataTable id="results_table" var="point" value="#{resultsView.points}">
                <p:column headerText="Id">
                    <h:outputText value="#{resultsView.points.indexOf(point)}"/>
                </p:column>
                <p:column headerText="X">
                    <h:outputText value="#{point.x}"/>
                </p:column>
                <p:column headerText="Y">
                    <h:outputText value="#{point.y}"/>
                </p:column>
                <p:column headerText="R">
                    <h:outputText value="#{point.r}"/>
                </p:column>
                <p:column headerText="Success">
                    <h:outputText value="#{point.success}"/>
                </p:column>
            </p:dataTable>
            <h:outputScript>
                draw_point('#{resultsView.newPoint.toString()}');
            </h:outputScript>
        </p:outputPanel></div>
</h:body>
</html>